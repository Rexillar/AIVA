/*â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
       â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘
       â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘
       â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
       â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•  â•šâ•â•  â•šâ•â•

   â”€â”€â—ˆâ”€â”€  A I V A  ::  A I   V I R T U A L   A S S I S T A N T  â”€â”€â—ˆâ”€â”€

   â—‰  Deterministic Execution System
   â—‰  Rule-Bound â€¢ State-Aware â€¢ Non-Emotive

   âŸ  SYSTEM LAYER : BACKEND CORE
   âŸ  DOMAIN       : DATA MODELS

   âŸ  PURPOSE      : Provide specific functionality and operations

   âŸ  WHY          : Modular code organization and reusability

   âŸ  WHAT         : Function-based utilities and operations

   âŸ  TECH STACK   : Node.js â€¢ Express â€¢ MongoDB
   âŸ  CRYPTO       : N/A
   âŸ  TRUST LEVEL  : CRITICAL
   âŸ  DOCS : /docs/architecture/data-flow.md

   âŸ  USAGE RULES  : Validate schemas â€¢ Encrypt sensitive fields â€¢ Index properly

        "Functions implemented. Operations executed. Results delivered."

                          âŸ¡  A I V A  âŸ¡

                     Â© 2026 Mohitraj Jadeja

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•*/

import mongoose from 'mongoose';

const achievementSchema = new mongoose.Schema({
  name: {
    type: String,
    required: true,
    trim: true
  },
  description: {
    type: String,
    required: true,
    trim: true
  },
  icon: {
    type: String,
    default: 'ğŸ†'
  },
  category: {
    type: String,
    enum: ['task', 'habit', 'focus', 'collaboration', 'reflection', 'milestone'],
    required: true
  },
  xpReward: {
    type: Number,
    default: 0
  },
  coinReward: {
    type: Number,
    default: 0
  },
  criteria: {
    type: {
      type: String,
      enum: ['count', 'streak', 'time', 'level', 'completion'],
      required: true
    },
    target: {
      type: Number,
      required: true
    },
    unit: {
      type: String,
      enum: ['tasks', 'habits', 'days', 'minutes', 'hours', 'level'],
      required: true
    }
  },
  isActive: {
    type: Boolean,
    default: true
  },
  rarity: {
    type: String,
    enum: ['common', 'rare', 'epic', 'legendary'],
    default: 'common'
  }
}, {
  timestamps: true
});

const Achievement = mongoose.model('Achievement', achievementSchema);

export default Achievement;